/** 
* jQuery WeUI V0.0.1 
* By 野草
* http://ccppchen.github.io
 */
!function(e){e.fn.scrollLoad=function(t){var n={lazy:!0,sucback:function(){}};e.extend(n,t);var a=function(){n.lazy&&e("img.lazy").lazyload();var t=Math.max(document.body.scrollHeight,document.body.offsetHeight),a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,l=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;t-a-l==0&&n.sucback()};e(document).on("scroll",e(window),a)}}(window.jQuery||window.Zepto);var TouchSlide=function(e){e=e||{};var t={slideCell:e.slideCell||"#touchSlide",titCell:e.titCell||".hd li",mainCell:e.mainCell||".bd",effect:e.effect||"left",autoPlay:e.autoPlay||!1,delayTime:e.delayTime||200,interTime:e.interTime||2500,defaultIndex:e.defaultIndex||0,titOnClassName:e.titOnClassName||"on",autoPage:e.autoPage||!1,prevCell:e.prevCell||".prev",nextCell:e.nextCell||".next",pageStateCell:e.pageStateCell||".pageState",pnLoop:"undefined "==e.pnLoop?!0:e.pnLoop,startFun:e.startFun||null,endFun:e.endFun||null,switchLoad:e.switchLoad||null},n=document.getElementById(t.slideCell.replace("#",""));if(!n)return!1;var a=function(e,t){e=e.split(" ");var n=[];t=t||document;var a=[t];for(var l in e)0!=e[l].length&&n.push(e[l]);for(var l in n){if(0==a.length)return!1;var i=[];for(var o in a)if("#"==n[l][0])i.push(document.getElementById(n[l].replace("#","")));else if("."==n[l][0])for(var r=a[o].getElementsByTagName("*"),s=0;s<r.length;s++){var c=r[s].className;c&&-1!=c.search(new RegExp("\\b"+n[l].replace(".","")+"\\b"))&&i.push(r[s])}else for(var r=a[o].getElementsByTagName(n[l]),s=0;s<r.length;s++)i.push(r[s]);a=i}return 0==a.length||a[0]==t?!1:a},l=function(e,t){var n=document.createElement("div");n.innerHTML=t,n=n.children[0];var a=e.cloneNode(!0);return n.appendChild(a),e.parentNode.replaceChild(n,e),d=a,n},i=function(e,t){!e||!t||e.className&&-1!=e.className.search(new RegExp("\\b"+t+"\\b"))||(e.className+=(e.className?" ":"")+t)},o=function(e,t){!e||!t||e.className&&-1==e.className.search(new RegExp("\\b"+t+"\\b"))||(e.className=e.className.replace(new RegExp("\\s*\\b"+t+"\\b","g"),""))},r=t.effect,s=a(t.prevCell,n)[0],c=a(t.nextCell,n)[0],u=a(t.pageStateCell)[0],d=a(t.mainCell,n)[0];if(!d)return!1;var f,p,m=d.children.length,v=a(t.titCell,n),h=v?v.length:m,g=t.switchLoad,T=parseInt(t.defaultIndex),w=parseInt(t.delayTime),b=parseInt(t.interTime),y="false"!=t.autoPlay&&0!=t.autoPlay,L="false"!=t.autoPage&&0!=t.autoPage,C="false"!=t.pnLoop&&0!=t.pnLoop,x=T,E=null,N=null,k=null,I=0,M=0,P=0,S=0,H=/hp-tablet/gi.test(navigator.appVersion),F="ontouchstart"in window&&!H,z=F?"touchstart":"mousedown",D=F?"touchmove":"",O=F?"touchend":"mouseup",B=d.parentNode.clientWidth,A=m;if(0==h&&(h=m),L){h=m,v=v[0],v.innerHTML="";var R="";if(1==t.autoPage||"true"==t.autoPage)for(var W=0;h>W;W++)R+="<li>"+(W+1)+"</li>";else for(var W=0;h>W;W++)R+=t.autoPage.replace("$",W+1);v.innerHTML=R,v=v.children}"leftLoop"==r&&(A+=2,d.appendChild(d.children[0].cloneNode(!0)),d.insertBefore(d.children[m-1].cloneNode(!0),d.children[0])),f=l(d,'<div class="tempWrap" style="overflow:hidden; position:relative;"></div>'),d.style.cssText="width:"+A*B+"px;position:relative;overflow:hidden;padding:0;margin:0;";for(var W=0;A>W;W++)d.children[W].style.cssText="display:table-cell;vertical-align:top;width:"+B+"px";var X=function(){"function"==typeof t.startFun&&t.startFun(T,h)},Y=function(){"function"==typeof t.endFun&&t.endFun(T,h)},Z=function(e){var t=("leftLoop"==r?T+1:T)+e,n=function(e){for(var t=d.children[e].getElementsByTagName("img"),n=0;n<t.length;n++)t[n].getAttribute(g)&&(t[n].setAttribute("src",t[n].getAttribute(g)),t[n].removeAttribute(g))};if(n(t),"leftLoop"==r)switch(t){case 0:n(m);break;case 1:n(m+1);break;case m:n(0);break;case m+1:n(1)}},j=function(){B=f.clientWidth,d.style.width=A*B+"px";for(var e=0;A>e;e++)d.children[e].style.width=B+"px";var t="leftLoop"==r?T+1:T;Q(-t*B,0)};window.addEventListener("resize",j,!1);var Q=function(e,t,n){n=n?n.style:d.style,n.webkitTransitionDuration=n.MozTransitionDuration=n.msTransitionDuration=n.OTransitionDuration=n.transitionDuration=t+"ms",n.webkitTransform="translate("+e+"px,0)translateZ(0)",n.msTransform=n.MozTransform=n.OTransform="translateX("+e+"px)"},V=function(e){switch(r){case"left":T>=h?T=e?T-1:0:0>T&&(T=e?0:h-1),null!=g&&Z(0),Q(-T*B,w),x=T;break;case"leftLoop":null!=g&&Z(0),Q(-(T+1)*B,w),-1==T?(N=setTimeout(function(){Q(-h*B,0)},w),T=h-1):T==h&&(N=setTimeout(function(){Q(-B,0)},w),T=0),x=T}X(),k=setTimeout(function(){Y()},w);for(var n=0;h>n;n++)o(v[n],t.titOnClassName),n==T&&i(v[n],t.titOnClassName);0==C&&(o(c,"nextStop"),o(s,"prevStop"),0==T?i(s,"prevStop"):T==h-1&&i(c,"nextStop")),u&&(u.innerHTML="<span>"+(T+1)+"</span>/"+h)};if(V(),y&&(E=setInterval(function(){T++,V()},b)),v)for(var W=0;h>W;W++)!function(){var e=W;v[e].addEventListener("click",function(){clearTimeout(N),clearTimeout(k),T=e,V()})}();c&&c.addEventListener("click",function(){(1==C||T!=h-1)&&(clearTimeout(N),clearTimeout(k),T++,V())}),s&&s.addEventListener("click",function(){(1==C||0!=T)&&(clearTimeout(N),clearTimeout(k),T--,V())});var $=function(e){clearTimeout(N),clearTimeout(k),p=void 0,P=0;var t=F?e.touches[0]:e;I=t.pageX,M=t.pageY,d.addEventListener(D,q,!1),d.addEventListener(O,G,!1)},q=function(e){if(!F||!(e.touches.length>1||e.scale&&1!==e.scale)){var t=F?e.touches[0]:e;if(P=t.pageX-I,S=t.pageY-M,"undefined"==typeof p&&(p=!!(p||Math.abs(P)<Math.abs(S))),!p){switch(e.preventDefault(),y&&clearInterval(E),r){case"left":(0==T&&P>0||T>=h-1&&0>P)&&(P=.4*P),Q(-T*B+P,0);break;case"leftLoop":Q(-(T+1)*B+P,0)}null!=g&&Math.abs(P)>B/3&&Z(P>-0?-1:1)}}},G=function(e){0!=P&&(e.preventDefault(),p||(Math.abs(P)>B/10&&(P>0?T--:T++),V(!0),y&&(E=setInterval(function(){T++,V()},b))),d.removeEventListener(D,q,!1),d.removeEventListener(O,G,!1))};d.addEventListener(z,$,!1)};